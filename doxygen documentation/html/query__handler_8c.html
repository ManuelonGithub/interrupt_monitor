<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Interrupt-Driven Monitor: query_handler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Interrupt-Driven Monitor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">query_handler.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines all the functionality regarding query handling of the monitor.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &quot;<a class="el" href="query__handler_8h_source.html">query_handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="uart_8h_source.html">uart.h</a>&quot;</code><br />
</div>
<p><a href="query__handler_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6e26815d1b0aad96b069f0129291e0c9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a6e26815d1b0aad96b069f0129291e0c9">FindMonthValue</a> (char *month_str)</td></tr>
<tr class="memdesc:a6e26815d1b0aad96b069f0129291e0c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find month number (0..11) of a written month.  <a href="query__handler_8c.html#a6e26815d1b0aad96b069f0129291e0c9">More...</a><br /></td></tr>
<tr class="separator:a6e26815d1b0aad96b069f0129291e0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04b3631c6b752c6eaa0e65558d97396"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#aa04b3631c6b752c6eaa0e65558d97396">QueryHandler_Init</a> ()</td></tr>
<tr class="memdesc:aa04b3631c6b752c6eaa0e65558d97396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the query handler's buffer and the terminal entry point.  <a href="query__handler_8c.html#aa04b3631c6b752c6eaa0e65558d97396">More...</a><br /></td></tr>
<tr class="separator:aa04b3631c6b752c6eaa0e65558d97396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af53e745ef398bd2a224ac8eb034c194e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#af53e745ef398bd2a224ac8eb034c194e">QueryHandler_Update</a> (<a class="el" href="circular__buffer_8h.html#a7c4fbcfafc38ea754a6084a02ccf0910">circular_buffer_t</a> *rx_buf)</td></tr>
<tr class="memdesc:af53e745ef398bd2a224ac8eb034c194e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query Handler update function.  <a href="query__handler_8c.html#af53e745ef398bd2a224ac8eb034c194e">More...</a><br /></td></tr>
<tr class="separator:af53e745ef398bd2a224ac8eb034c194e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7281109aa92cc7387878dc419f1ca242"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a7281109aa92cc7387878dc419f1ca242">QueryCheck</a> ()</td></tr>
<tr class="memdesc:a7281109aa92cc7387878dc419f1ca242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the data currently in the Query buffer for a valid query and services valid queries.  <a href="query__handler_8c.html#a7281109aa92cc7387878dc419f1ca242">More...</a><br /></td></tr>
<tr class="separator:a7281109aa92cc7387878dc419f1ca242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58d4098b58846fd3f3a04987f6aafe7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#aa58d4098b58846fd3f3a04987f6aafe7">SetTime</a> (char *new_time_str)</td></tr>
<tr class="memdesc:aa58d4098b58846fd3f3a04987f6aafe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a new time from a string for Systime to track/maintain.  <a href="query__handler_8c.html#aa58d4098b58846fd3f3a04987f6aafe7">More...</a><br /></td></tr>
<tr class="separator:aa58d4098b58846fd3f3a04987f6aafe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa453a116ef2d6a2f9456b3ae91e32b2f"><td class="memItemLeft" align="right" valign="top"><a id="aa453a116ef2d6a2f9456b3ae91e32b2f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#aa453a116ef2d6a2f9456b3ae91e32b2f">DisplayTime</a> (void)</td></tr>
<tr class="memdesc:aa453a116ef2d6a2f9456b3ae91e32b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the current time in Systime to UART. <br /></td></tr>
<tr class="separator:aa453a116ef2d6a2f9456b3ae91e32b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f31cb2589d53d4997801bfa0293453a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a2f31cb2589d53d4997801bfa0293453a">SetDate</a> (char *new_date_str)</td></tr>
<tr class="memdesc:a2f31cb2589d53d4997801bfa0293453a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new date for Systime to track/maintain based on a char string's data.  <a href="query__handler_8c.html#a2f31cb2589d53d4997801bfa0293453a">More...</a><br /></td></tr>
<tr class="separator:a2f31cb2589d53d4997801bfa0293453a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c338244756effaaadf824ca1b1b699"><td class="memItemLeft" align="right" valign="top"><a id="a06c338244756effaaadf824ca1b1b699"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a06c338244756effaaadf824ca1b1b699">DisplayDate</a> ()</td></tr>
<tr class="memdesc:a06c338244756effaaadf824ca1b1b699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the current date in Systime to UART. <br /></td></tr>
<tr class="separator:a06c338244756effaaadf824ca1b1b699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c62383712fc553cbef7e87ead5ee010"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a4c62383712fc553cbef7e87ead5ee010">SetAlarm</a> (char *alarm_str)</td></tr>
<tr class="memdesc:a4c62383712fc553cbef7e87ead5ee010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an alarm of Systime to configure based on a char string's data.  <a href="query__handler_8c.html#a4c62383712fc553cbef7e87ead5ee010">More...</a><br /></td></tr>
<tr class="separator:a4c62383712fc553cbef7e87ead5ee010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa056104348be52666665dd099843db93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#aa056104348be52666665dd099843db93">Alarm_callback</a> (void)</td></tr>
<tr class="memdesc:aa056104348be52666665dd099843db93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm Callback function.  <a href="query__handler_8c.html#aa056104348be52666665dd099843db93">More...</a><br /></td></tr>
<tr class="separator:aa056104348be52666665dd099843db93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c12c2ca3ca95c9d0ccd685f57b3cae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a08c12c2ca3ca95c9d0ccd685f57b3cae">CursorCodeCheck</a> (<a class="el" href="circular__buffer_8h.html#a7c4fbcfafc38ea754a6084a02ccf0910">circular_buffer_t</a> *rx_buf)</td></tr>
<tr class="memdesc:a08c12c2ca3ca95c9d0ccd685f57b3cae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for a cursor escape code in the receive buffer and acts according to the cursor code found.  <a href="query__handler_8c.html#a08c12c2ca3ca95c9d0ccd685f57b3cae">More...</a><br /></td></tr>
<tr class="separator:a08c12c2ca3ca95c9d0ccd685f57b3cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0813c14cfa58cb5d75263116cb686cca"><td class="memItemLeft" align="right" valign="top"><a id="a0813c14cfa58cb5d75263116cb686cca"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><b>TIME_QUERY</b> [] = {&quot;TIME&quot;}</td></tr>
<tr class="separator:a0813c14cfa58cb5d75263116cb686cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155086f659e06e4c600ec906113fe69b"><td class="memItemLeft" align="right" valign="top"><a id="a155086f659e06e4c600ec906113fe69b"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a155086f659e06e4c600ec906113fe69b">DATE_QUERY</a> [] = {&quot;DATE&quot;}</td></tr>
<tr class="memdesc:a155086f659e06e4c600ec906113fe69b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time query keyword. <br /></td></tr>
<tr class="separator:a155086f659e06e4c600ec906113fe69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19bab9ef9db0484c3ca24ee3da7672f0"><td class="memItemLeft" align="right" valign="top"><a id="a19bab9ef9db0484c3ca24ee3da7672f0"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a19bab9ef9db0484c3ca24ee3da7672f0">ALARM_QUERY</a> [] = {&quot;ALARM&quot;}</td></tr>
<tr class="memdesc:a19bab9ef9db0484c3ca24ee3da7672f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Date query keyword. <br /></td></tr>
<tr class="separator:a19bab9ef9db0484c3ca24ee3da7672f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b08d0e888f9ec53f467256de11102c7"><td class="memItemLeft" align="right" valign="top"><a id="a3b08d0e888f9ec53f467256de11102c7"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query__handler_8c.html#a3b08d0e888f9ec53f467256de11102c7">CURSOR_LEFT</a> [] = {&quot;\x1b[D&quot;}</td></tr>
<tr class="memdesc:a3b08d0e888f9ec53f467256de11102c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm query keyword. <br /></td></tr>
<tr class="separator:a3b08d0e888f9ec53f467256de11102c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c04831c136cdb8cb2629caae60db0d"><td class="memItemLeft" align="right" valign="top"><a id="ad7c04831c136cdb8cb2629caae60db0d"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>CURSOR_RIGHT</b> [] = {&quot;\x1b[C&quot;}</td></tr>
<tr class="separator:ad7c04831c136cdb8cb2629caae60db0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ad600f2c0b2c18d7835331bfe1c6b3"><td class="memItemLeft" align="right" valign="top"><a id="a73ad600f2c0b2c18d7835331bfe1c6b3"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>CURSOR_UP</b> [] = {&quot;\x1b[A&quot;}</td></tr>
<tr class="separator:a73ad600f2c0b2c18d7835331bfe1c6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a609d7be3d3f741ee446167d0133c5329"><td class="memItemLeft" align="right" valign="top"><a id="a609d7be3d3f741ee446167d0133c5329"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>CURSOR_DOWN</b> [] = {&quot;\x1b[B&quot;}</td></tr>
<tr class="separator:a609d7be3d3f741ee446167d0133c5329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d3eae76ad9a7a47e9ce5d87197ebaa"><td class="memItemLeft" align="right" valign="top"><a id="ae2d3eae76ad9a7a47e9ce5d87197ebaa"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>CLEAR_SCREEN</b> [] = {&quot;\x1b[2J&quot;}</td></tr>
<tr class="separator:ae2d3eae76ad9a7a47e9ce5d87197ebaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fb417e51416f1a143e6216695cfe69"><td class="memItemLeft" align="right" valign="top"><a id="a04fb417e51416f1a143e6216695cfe69"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>CURSOR_HOME</b> [] = {&quot;\x1b[H&quot;}</td></tr>
<tr class="separator:a04fb417e51416f1a143e6216695cfe69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6488adfdd040f7a4c5c11c8edcfd071b"><td class="memItemLeft" align="right" valign="top"><a id="a6488adfdd040f7a4c5c11c8edcfd071b"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>ALARM_BELL</b> [] = {&quot;\x07&quot;}</td></tr>
<tr class="separator:a6488adfdd040f7a4c5c11c8edcfd071b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines all the functionality regarding query handling of the monitor. </p>
<dl class="section author"><dt>Author</dt><dd>Manuel Burnay </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019.09.26 (Created) </dd>
<dd>
2019.10.10 (Last Modified) </dd></dl>

<p class="definition">Definition in file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa056104348be52666665dd099843db93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa056104348be52666665dd099843db93">&#9670;&nbsp;</a></span>Alarm_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Alarm_callback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alarm Callback function. </p>
<p>Function is called when a set alarm's time has elapsed. </p>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00334">334</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="a08c12c2ca3ca95c9d0ccd685f57b3cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c12c2ca3ca95c9d0ccd685f57b3cae">&#9670;&nbsp;</a></span>CursorCodeCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CursorCodeCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circular__buffer_8h.html#a7c4fbcfafc38ea754a6084a02ccf0910">circular_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>rx_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for a cursor escape code in the receive buffer and acts according to the cursor code found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rx_buf</td><td>Pointer to receive buffer with escape code at the read pointer.</td></tr>
  </table>
  </dd>
</dl>
<p>This function only checks for cursor codes that come from the arrow keys. Any other escape codes (including cursor code with multiple "moves") are not handled.</p>
<p>This function assumes that the escape char (x1b) has been previously detected and removed from the rx buffer. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Change this function so it handles more escape codes (or just handles them better) HINT: Escape code only contain one alphabetic character, and it's always at the end of the code. @0todo: create a query save buffer with the last couple of query entries and have the 'UP cursor' escape code select one of the save query entries. </dd></dl>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00365">365</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="a6e26815d1b0aad96b069f0129291e0c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e26815d1b0aad96b069f0129291e0c9">&#9670;&nbsp;</a></span>FindMonthValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FindMonthValue </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>month_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find month number (0..11) of a written month. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">month_str</td><td>char string containing the written month. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[uint8_t] Month number between 0..12 (see details).</dd></dl>
<p>0 -&gt; January, ... 11 -&gt; December, 12 -&gt; Bad string. </p>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00251">251</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="a7281109aa92cc7387878dc419f1ca242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7281109aa92cc7387878dc419f1ca242">&#9670;&nbsp;</a></span>QueryCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool QueryCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the data currently in the Query buffer for a valid query and services valid queries. </p>
<dl class="section return"><dt>Returns</dt><dd>[bool] True if there is a valid query in the buffer, False in not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00108">108</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="aa04b3631c6b752c6eaa0e65558d97396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa04b3631c6b752c6eaa0e65558d97396">&#9670;&nbsp;</a></span>QueryHandler_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QueryHandler_Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the query handler's buffer and the terminal entry point. </p>
<p>Query character buffer</p>
<p>Make sure the UART driver has been initialized prior to calling this function, otherwise you will cause a memory access fault. </p>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00047">47</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="af53e745ef398bd2a224ac8eb034c194e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af53e745ef398bd2a224ac8eb034c194e">&#9670;&nbsp;</a></span>QueryHandler_Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QueryHandler_Update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="circular__buffer_8h.html#a7c4fbcfafc38ea754a6084a02ccf0910">circular_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>rx_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query Handler update function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rx_buf</td><td>Receive buffer that contains the data being inputed by the user.</td></tr>
  </table>
  </dd>
</dl>
<p>This function normally just transfers bytes from the RX buffer to the query buffer, but checks for certain key characters that effect the behavior of the query buffer, namely the delete/backspace char, the ENTER char, and the start of an ANSI escape code. </p>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00063">63</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="a4c62383712fc553cbef7e87ead5ee010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c62383712fc553cbef7e87ead5ee010">&#9670;&nbsp;</a></span>SetAlarm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SetAlarm </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>alarm_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an alarm of Systime to configure based on a char string's data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">alarm_str</td><td>char string containing the alarm time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[bool] True if alarm was successfully set, false if not.</dd></dl>
<p>Setting the alarm can fail in two ways: An error in the alarm string format, or an error in the time values. </p>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00285">285</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="a2f31cb2589d53d4997801bfa0293453a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f31cb2589d53d4997801bfa0293453a">&#9670;&nbsp;</a></span>SetDate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SetDate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>new_date_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a new date for Systime to track/maintain based on a char string's data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">new_date_str</td><td>char string with new date to be set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[bool] True if a new date was set, false if not.</dd></dl>
<p>Setting the date can fail in two ways: An error in the date string format, or an error in the date values. </p>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00220">220</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
<a id="aa58d4098b58846fd3f3a04987f6aafe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58d4098b58846fd3f3a04987f6aafe7">&#9670;&nbsp;</a></span>SetTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SetTime </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>new_time_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a new time from a string for Systime to track/maintain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">new_time_str</td><td>char string with the new time to be set. @bool True if a new time was set, false if not.</td></tr>
  </table>
  </dd>
</dl>
<p>Setting the time can fail in two ways: An error in the time string format, or an error in the time values. </p>

<p class="definition">Definition at line <a class="el" href="query__handler_8c_source.html#l00172">172</a> of file <a class="el" href="query__handler_8c_source.html">query_handler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
