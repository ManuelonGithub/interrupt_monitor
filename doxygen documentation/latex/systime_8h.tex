\hypertarget{systime_8h}{}\doxysection{includes/systime.h File Reference}
\label{systime_8h}\index{includes/systime.h@{includes/systime.h}}


Middleware for the systick driver. Contains all the definitions and prototypes for the systime module.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}systick.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structdate__}{date\+\_\+}}
\begin{DoxyCompactList}\small\item\em Date structure. Contains all the member of a date in order. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structclock__}{clock\+\_\+}}
\begin{DoxyCompactList}\small\item\em Clock structure. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structalarm__}{alarm\+\_\+}}
\begin{DoxyCompactList}\small\item\em alarm data structure \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structsystime__}{systime\+\_\+}}
\begin{DoxyCompactList}\small\item\em System time strucure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{systime_8h_a3ad53cbdf5837f174ca93b7d7ec76f5e}\label{systime_8h_a3ad53cbdf5837f174ca93b7d7ec76f5e}} 
\#define {\bfseries M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+T\+S\+EC}~100
\item 
\mbox{\Hypertarget{systime_8h_aef31b7b4bb32371731d49648c6b61fd3}\label{systime_8h_aef31b7b4bb32371731d49648c6b61fd3}} 
\#define {\bfseries T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+S\+EC}~10
\item 
\mbox{\Hypertarget{systime_8h_a9effb72f1030b12f494dfac9fff51dab}\label{systime_8h_a9effb72f1030b12f494dfac9fff51dab}} 
\#define {\bfseries S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN}~60
\item 
\mbox{\Hypertarget{systime_8h_a99ceb52a8af10f4d85714d26d7994557}\label{systime_8h_a99ceb52a8af10f4d85714d26d7994557}} 
\#define {\bfseries M\+I\+N\+\_\+\+I\+N\+\_\+\+H\+O\+UR}~60
\item 
\mbox{\Hypertarget{systime_8h_ab8642b7ef2ca496a1b359be233f6f140}\label{systime_8h_ab8642b7ef2ca496a1b359be233f6f140}} 
\#define {\bfseries H\+O\+U\+R\+\_\+\+I\+N\+\_\+\+D\+AY}~24
\item 
\mbox{\Hypertarget{systime_8h_aff9b8628563d1161da3b67a1db13b3da}\label{systime_8h_aff9b8628563d1161da3b67a1db13b3da}} 
\#define {\bfseries M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+S\+EC}~(M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+T\+S\+EC$\ast$T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+S\+EC)
\item 
\mbox{\Hypertarget{systime_8h_a425a8b787fc41d8c7c5627e54fc72001}\label{systime_8h_a425a8b787fc41d8c7c5627e54fc72001}} 
\#define {\bfseries M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN}~(M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+S\+EC$\ast$S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN)
\item 
\mbox{\Hypertarget{systime_8h_ac9ed5075f701c5b2a3fe85312600c862}\label{systime_8h_ac9ed5075f701c5b2a3fe85312600c862}} 
\#define {\bfseries M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+H\+O\+UR}~(M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN$\ast$M\+I\+N\+\_\+\+I\+N\+\_\+\+H\+O\+UR)
\item 
\mbox{\Hypertarget{systime_8h_a2293d5ab450e726edf6c66320986e1e6}\label{systime_8h_a2293d5ab450e726edf6c66320986e1e6}} 
\#define {\bfseries M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+D\+AY}~(M\+S\+E\+C\+\_\+\+I\+N\+\_\+\+H\+O\+UR$\ast$H\+O\+U\+R\+\_\+\+I\+N\+\_\+\+D\+AY)
\item 
\mbox{\Hypertarget{systime_8h_a5d4c199a5660fbc5002dc5f76b9a5e88}\label{systime_8h_a5d4c199a5660fbc5002dc5f76b9a5e88}} 
\#define {\bfseries T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN}~(T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+S\+EC$\ast$S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN)
\item 
\mbox{\Hypertarget{systime_8h_a200375a35a857d96ddfc8b9e64544f28}\label{systime_8h_a200375a35a857d96ddfc8b9e64544f28}} 
\#define {\bfseries T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+H\+O\+UR}~(T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN$\ast$M\+I\+N\+\_\+\+I\+N\+\_\+\+H\+O\+UR)
\item 
\mbox{\Hypertarget{systime_8h_a46eaef6abb62295cd18e7cf2558a9732}\label{systime_8h_a46eaef6abb62295cd18e7cf2558a9732}} 
\#define {\bfseries T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+D\+AY}~(T\+S\+E\+C\+\_\+\+I\+N\+\_\+\+H\+O\+UR$\ast$H\+O\+U\+R\+\_\+\+I\+N\+\_\+\+D\+AY)
\item 
\mbox{\Hypertarget{systime_8h_a37df8869627d02bd464bc2ad7f195f64}\label{systime_8h_a37df8869627d02bd464bc2ad7f195f64}} 
\#define {\bfseries S\+E\+C\+\_\+\+I\+N\+\_\+\+D\+AY}~(S\+E\+C\+\_\+\+I\+N\+\_\+\+M\+IN$\ast$M\+I\+N\+\_\+\+I\+N\+\_\+\+H\+O\+UR$\ast$H\+O\+U\+R\+\_\+\+I\+N\+\_\+\+D\+AY)
\item 
\mbox{\Hypertarget{systime_8h_a94fd155199f1faba76576b240b46904b}\label{systime_8h_a94fd155199f1faba76576b240b46904b}} 
\#define {\bfseries M\+O\+N\+T\+H\+\_\+\+I\+N\+\_\+\+Y\+E\+AR}~12
\item 
\#define \mbox{\hyperlink{systime_8h_a5d63063be36a5142c11be35841136c80}{I\+S\+\_\+\+L\+E\+A\+P\+\_\+\+YR}}(yr)~((yr \% 4 == 0) \&\& ((yr \% 400 == 0) $\vert$$\vert$ (yr \% 100 != 0)))
\begin{DoxyCompactList}\small\item\em Macro to determine if a year is a leap year. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structdate__}{date\+\_\+}} \mbox{\hyperlink{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}{date\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Date structure. Contains all the member of a date in order. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structclock__}{clock\+\_\+}} \mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Clock structure. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structalarm__}{alarm\+\_\+}} \mbox{\hyperlink{systime_8h_abffef21f09bb5c5c4d23a4b384d7098c}{alarm\+\_\+t}}
\begin{DoxyCompactList}\small\item\em alarm data structure \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structsystime__}{systime\+\_\+}} \mbox{\hyperlink{systime_8h_ad807e2ca819ee2faa33578002cf990ed}{systime\+\_\+t}}
\begin{DoxyCompactList}\small\item\em System time strucure. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{systime_8h_a47e79b4a2c3c10badd42025bd47f7afc}{systime\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em system time data structure. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{systime_8h_a5325164e57606883b99ff3a156ab4d1c}{systime\+\_\+\+Set\+Time}} (\mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}} $\ast$new\+\_\+clock)
\begin{DoxyCompactList}\small\item\em Sets the system time to a new time. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{systime_8h_a20081e1964ee6211394b880f3d84d626}{systime\+\_\+\+Get\+Time}} (\mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}} $\ast$ret\+\_\+clock)
\begin{DoxyCompactList}\small\item\em Gets the current system time. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{systime_8h_a64cad8b3ae277ab4321ad9feb82bba47}{systime\+\_\+\+Set\+Date}} (\mbox{\hyperlink{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}{date\+\_\+t}} $\ast$new\+\_\+date)
\begin{DoxyCompactList}\small\item\em Sets the system date to a new date. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{systime_8h_a3a0778cb6cb1c790d003f8deff6ee317}{systime\+\_\+\+Get\+Date}} (\mbox{\hyperlink{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}{date\+\_\+t}} $\ast$ret\+\_\+date)
\begin{DoxyCompactList}\small\item\em Gets the current system date. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{systime_8h_a6882a312d4a3517405018719a56d2987}{systime\+\_\+\+Set\+Alarm}} (\mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}} $\ast$alarm\+\_\+clock, void($\ast$alarm\+\_\+cb)(void))
\begin{DoxyCompactList}\small\item\em Sets an alarm for the system to track. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{systime_8h_a40ca43edad7eaddf3cd08636ca3a9721}\label{systime_8h_a40ca43edad7eaddf3cd08636ca3a9721}} 
void \mbox{\hyperlink{systime_8h_a40ca43edad7eaddf3cd08636ca3a9721}{systime\+\_\+\+Clear\+Alarm}} ()
\begin{DoxyCompactList}\small\item\em Clears the alarm being tracked by the system. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Middleware for the systick driver. Contains all the definitions and prototypes for the systime module. 

\begin{DoxyAuthor}{Author}
Manuel Burnay 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2019.\+09.\+24 (Created) 

2019.\+10.\+03 (Last Modified) 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{systime_8h_a5d63063be36a5142c11be35841136c80}\label{systime_8h_a5d63063be36a5142c11be35841136c80}} 
\index{systime.h@{systime.h}!IS\_LEAP\_YR@{IS\_LEAP\_YR}}
\index{IS\_LEAP\_YR@{IS\_LEAP\_YR}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{IS\_LEAP\_YR}{IS\_LEAP\_YR}}
{\footnotesize\ttfamily \#define I\+S\+\_\+\+L\+E\+A\+P\+\_\+\+YR(\begin{DoxyParamCaption}\item[{}]{yr }\end{DoxyParamCaption})~((yr \% 4 == 0) \&\& ((yr \% 400 == 0) $\vert$$\vert$ (yr \% 100 != 0)))}



Macro to determine if a year is a leap year. 

It takes into consideration centuries that aren\textquotesingle{}t divisible by 400. (these are not leap years despite being divisible by 4) 

Definition at line 86 of file systime.\+h.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{systime_8h_abffef21f09bb5c5c4d23a4b384d7098c}\label{systime_8h_abffef21f09bb5c5c4d23a4b384d7098c}} 
\index{systime.h@{systime.h}!alarm\_t@{alarm\_t}}
\index{alarm\_t@{alarm\_t}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{alarm\_t}{alarm\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structalarm__}{alarm\+\_\+}}  \mbox{\hyperlink{systime_8h_abffef21f09bb5c5c4d23a4b384d7098c}{alarm\+\_\+t}}}



alarm data structure 

Currently not in use. \mbox{\Hypertarget{systime_8h_a5aa9bef0709de604877a42a7541c4be1}\label{systime_8h_a5aa9bef0709de604877a42a7541c4be1}} 
\index{systime.h@{systime.h}!clock\_t@{clock\_t}}
\index{clock\_t@{clock\_t}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{clock\_t}{clock\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structclock__}{clock\+\_\+}}  \mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}}}



Clock structure. 

Used by systime when interfacing with the application. \mbox{\Hypertarget{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}\label{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}} 
\index{systime.h@{systime.h}!date\_t@{date\_t}}
\index{date\_t@{date\_t}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{date\_t}{date\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structdate__}{date\+\_\+}}  \mbox{\hyperlink{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}{date\+\_\+t}}}



Date structure. Contains all the member of a date in order. 

used by systime when interfacing with the application \& to track the system date.

The systime will not recognize January as month 0. January is month 1. \mbox{\Hypertarget{systime_8h_ad807e2ca819ee2faa33578002cf990ed}\label{systime_8h_ad807e2ca819ee2faa33578002cf990ed}} 
\index{systime.h@{systime.h}!systime\_t@{systime\_t}}
\index{systime\_t@{systime\_t}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{systime\_t}{systime\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structsystime__}{systime\+\_\+}}  \mbox{\hyperlink{systime_8h_ad807e2ca819ee2faa33578002cf990ed}{systime\+\_\+t}}}



System time strucure. 

Contains all the elements the system time middleware controls and maintains/handles. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{systime_8h_a3a0778cb6cb1c790d003f8deff6ee317}\label{systime_8h_a3a0778cb6cb1c790d003f8deff6ee317}} 
\index{systime.h@{systime.h}!systime\_GetDate@{systime\_GetDate}}
\index{systime\_GetDate@{systime\_GetDate}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{systime\_GetDate()}{systime\_GetDate()}}
{\footnotesize\ttfamily void systime\+\_\+\+Get\+Date (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}{date\+\_\+t}} $\ast$}]{ret\+\_\+date }\end{DoxyParamCaption})}



Gets the current system date. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em ret\+\_\+date} & pointer to date\+\_\+t structure where the system date will be copied to \\
\hline
\end{DoxyParams}


Definition at line 118 of file systime.\+c.

\mbox{\Hypertarget{systime_8h_a20081e1964ee6211394b880f3d84d626}\label{systime_8h_a20081e1964ee6211394b880f3d84d626}} 
\index{systime.h@{systime.h}!systime\_GetTime@{systime\_GetTime}}
\index{systime\_GetTime@{systime\_GetTime}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{systime\_GetTime()}{systime\_GetTime()}}
{\footnotesize\ttfamily void systime\+\_\+\+Get\+Time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}} $\ast$}]{ret\+\_\+clock }\end{DoxyParamCaption})}



Gets the current system time. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em ret\+\_\+clock} & pointer to clock\+\_\+t structure where the current system time will be copied to. \\
\hline
\end{DoxyParams}


Definition at line 84 of file systime.\+c.

\mbox{\Hypertarget{systime_8h_a47e79b4a2c3c10badd42025bd47f7afc}\label{systime_8h_a47e79b4a2c3c10badd42025bd47f7afc}} 
\index{systime.h@{systime.h}!systime\_init@{systime\_init}}
\index{systime\_init@{systime\_init}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{systime\_init()}{systime\_init()}}
{\footnotesize\ttfamily void systime\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



system time data structure. 

Initializes the systime middleware.

Sets the system time and date to initial/default values, and configures/initializes the systick driver. 

Definition at line 35 of file systime.\+c.

\mbox{\Hypertarget{systime_8h_a6882a312d4a3517405018719a56d2987}\label{systime_8h_a6882a312d4a3517405018719a56d2987}} 
\index{systime.h@{systime.h}!systime\_SetAlarm@{systime\_SetAlarm}}
\index{systime\_SetAlarm@{systime\_SetAlarm}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{systime\_SetAlarm()}{systime\_SetAlarm()}}
{\footnotesize\ttfamily bool systime\+\_\+\+Set\+Alarm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}} $\ast$}]{alarm\+\_\+clock,  }\item[{void($\ast$)(void)}]{alarm\+\_\+cb }\end{DoxyParamCaption})}



Sets an alarm for the system to track. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em alarm\+\_\+clock} & clock for the alarm to be set to. \\
\hline
\mbox{\texttt{ in}}  & {\em alarm\+\_\+cb} & callback function to be called for when the alarm\textquotesingle{}s time has elapsed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}bool\mbox{]} Always true. Returns boolean for application layer compatibility. 
\end{DoxyReturn}


Definition at line 129 of file systime.\+c.

\mbox{\Hypertarget{systime_8h_a64cad8b3ae277ab4321ad9feb82bba47}\label{systime_8h_a64cad8b3ae277ab4321ad9feb82bba47}} 
\index{systime.h@{systime.h}!systime\_SetDate@{systime\_SetDate}}
\index{systime\_SetDate@{systime\_SetDate}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{systime\_SetDate()}{systime\_SetDate()}}
{\footnotesize\ttfamily bool systime\+\_\+\+Set\+Date (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{systime_8h_ac98b478d30832f75e75d12b4b23cdc66}{date\+\_\+t}} $\ast$}]{new\+\_\+date }\end{DoxyParamCaption})}



Sets the system date to a new date. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em new\+\_\+date} & new date for the system to be set to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}bool\mbox{]} True if the system date was successfully change, false if not.
\end{DoxyReturn}
This function safely sets the system date to a new date, meaning that it\textquotesingle{}ll check the values in new\+\_\+date to make sure they represent a valid date. 

Definition at line 97 of file systime.\+c.

\mbox{\Hypertarget{systime_8h_a5325164e57606883b99ff3a156ab4d1c}\label{systime_8h_a5325164e57606883b99ff3a156ab4d1c}} 
\index{systime.h@{systime.h}!systime\_SetTime@{systime\_SetTime}}
\index{systime\_SetTime@{systime\_SetTime}!systime.h@{systime.h}}
\doxysubsubsection{\texorpdfstring{systime\_SetTime()}{systime\_SetTime()}}
{\footnotesize\ttfamily bool systime\+\_\+\+Set\+Time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{systime_8h_a5aa9bef0709de604877a42a7541c4be1}{clock\+\_\+t}} $\ast$}]{new\+\_\+clock }\end{DoxyParamCaption})}



Sets the system time to a new time. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em new\+\_\+clock} & new time for the system to be set to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}bool\mbox{]} True if the system time was successfully changed, False if not (Error in the new time\textquotesingle{}s values).
\end{DoxyReturn}
This function safely sets the system time, meaning that it\textquotesingle{}ll check that the new\+\_\+clock param is valid before setting it as the new time. 

Definition at line 64 of file systime.\+c.

